# 외부 패키지 의존 시 보안 위험성

## Supply Chain Attack

- 해커가 직접적으로 서버를 공격하지 않고, 소프트웨어 구성 요소를 손상시키는 기법을 말합니다.
- 서버, 컴퓨터, 자격 증명을 손상시킵니다.
- 외부 패키지를 아무런 경각심 없이 다운로드하게 되는 경우 의존성이 커져서 프로젝트에 문제가 생길 수 있습니다.
- 하나의 패키지만 사용하더라도 이미 수십개의 다른 서드파티 패키지에 의존하고 있는 경우가 많아 의존성이 급격하게 커집니다.
	- ex. left-pad 이슈
	- 적용점: 간단한 기능이라도 내가 직접 로직을 작성해서 패키지에 올려보기

### 패키지를 관리하는 계정 공격
- ex. foreach package 이슈
- ex. MathJS: `-min` 으로 경량화된 패키지인 것처럼 올렸으나 내부에 브라우저에 저장된 디스코드 토큰을 해킹하는 로직이 끼워져있었던 사례 (설치한 패키지의 내부 로직을 살펴보지 않는)

### Installation Scripts 공격

### Typosquatting 공격
- 착각하거나 실수로 입력할 수 있는 유사한 스펠링의 패키지 이름을 사용하는 기법

## 예방책

1. 종속성을 최소화하기 위해 노력하기
	- 무분별하게 패키지 다운받지 않기
	- 꼭 필요한 서드파티 패키지만 설치하기
2. Docker를 활용하여 컨테이너를 만들어서 작업하기
	- 로컬과 격리된 환경에서 작업하기

# npm과 yarn

- yarn이 속도, 보안, 안정성 측면에서 더 권장되고 있습니다.

## npm vs yarn

### 1. 패키지 설치 속도
- npm: 패키지를 한번에 하나씩 순차적으로 설치합니다.
- yarn: 여러 패키지를 동시에 가져오고 설치하도록 최적화되어 있습니다.

### 2. 보안
- npm: 패키지 다운로드 시 자동으로 패키지에 포함된 다른 패키지 코드를 실행합니다.
- yarn: `yarn.lock` 또는 `package.json` 에 있는 파일만 설치합니다.

# 참고자료

- [캡틴판교 강의자료](https://joshua1988.github.io/vue-camp/package-manager/npm-vs-yarn.html#yarn)
- [지금! 🚨 개발자라면 무조건 알아야하는 NPM 해킹](https://www.youtube.com/@nomadcoders)