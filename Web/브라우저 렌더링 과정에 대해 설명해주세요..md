- 브라우저는 **자원을 서버에 요청**하고, **응답으로 전달받은 자원을 화면에 표시**합니다.
- 서버로부터 응답받은 HTML, CSS 파일은 렌더링 엔진의 HTML 파서와 CSS 파서에 의해 파싱(Parsing)되어 각각 DOM, CSSOM 트리로 변환되고 **렌더 트리**로 결합됩니다.
- 브라우저는 이렇게 생성된 렌더 트리를 기반으로 웹페이지를 화면에 표시합니다.

1. HTML 파싱
2. DOM 생성
3. CSS 파싱
4. CSSOM 생성
5. DOM & CSSOM 결합
6. 렌더 트리 Render Tree 생성
7. 레이아웃 계산
8. 화면 렌더링

### 1. HTML 파싱과 DOM 생성 & CSS 파싱과 CSSOM 생성
- 브라우저 렌더링 엔진은 서버로부터 전달받은 **HTML/CSS 파일을 파싱Parsing** 합니다.
- byteStream으로 전송된 파일을 **문자열로 변환**하고 **토큰화 과정**을 거쳐 **DOM/CSSOM을 생성**합니다.
	- **[문자열 변환]** meta 태그의 charset 속성에 지정된 인코딩 방식을 기준으로 변환합니다.
	- **[토큰화]** 문법적 의미를 갖는 코드의 최소 단위인 토큰으로 분해합니다.
	- **[Node 생성]** 각 토큰으로 기본 구성 요소인 노드Node를 생성합니다.
	- **[Object Model 생성]** 구성 요소 간의 관계를 반영한 트리 형태의 자료 구조를 생성합니다.
	- **[CSSOM 생성 시점]** HTML 파싱 과정에서 CSS를 로드하는 `link` 태그나 `style` 태그를 만나면 마찬가지로 서버에 해당 리소스를 요청한 후 파싱 과정을 거쳐 CSSOM을 생성합니다.
	- CSS 파싱을 완료하면 HTML 파싱이 중단된 시점부터 다시 파싱하며 DOM 생성이 재개됩니다.
### 3. 렌더 트리 생성 Render Tree
- 생성된 DOM과 CSSOM을 결합하여 렌더링을 위해 렌더 트리를 생성합니다.
- 렌더 트리는 **브라우저 화면에 실제로 렌더링되는 노드만**으로 구성됩니다.
	- 렌더링에 관여하지 않는 meta 태그, script 태그, `display: none` 노드는 포함되지 않습니다.
### 4. 렌더 트리 레이아웃 Render Tree Layout
- 렌더 트리를 기반으로 **HTML 요소의 위치와 크기 등 레이아웃을 계산**합니다.
	- 대표적인 레이아웃 관련 속성에는 position, width, height, margin, padding 등이 있습니다.
- **[리플로우Reflow]** 레이아웃에 영향을 주는 변경이 발생한 경우 레이아웃을 다시 계산합니다.
	- 노드 추가/삭제, 요소 크기/위치 변경, 윈도우 리사이징 등이 있습니다.
### 5. 렌더 트리 페인팅 Render Tree Painting
- **[페인트Paint]** 계산값을 기반으로 각 요소를 **화면상의 실제 픽셀로 변환**하고 **레이어**를 만듭니다.
	- HTML 요소를 렌더링하는 순서, 페이지를 구성하는 Layer 등 모든 시각적인 요소가 포함됩니다.
	- 대표적인 페인트 관련 속성에는 background, box-shadow, color, border 등이 있습니다.
- **[합성Composite]** Paint 단계에서 생성한 **레이어를 합성**하여 **실제 화면에 표시**합니다.
- [리페인트Repaint] 렌더 트리에 변경이 생기면 다시 페인트가 진행됩니다.

## 참고자료
- 모던 자바스크립트 딥다이브 38장 브라우저의 렌더링 과정 38.3 - 38.9